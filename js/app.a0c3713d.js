(function(t){function e(e){for(var s,n,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)n=o[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},n={app:0},r={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-19144148":"921a9620","chunk-2d0d02a4":"c7b59243","chunk-2d0e2114":"bfc720cd","chunk-2d21f840":"b58f163d","chunk-3417e323":"15757786","chunk-42cb4e66":"372bcf36","chunk-57f30272":"21150a17","chunk-68564b6c":"9ac5d20b","chunk-73d02200":"a04dd4b8","chunk-74008316":"f5a4a44f","chunk-c685a436":"9d1294b9","chunk-e9c094e2":"4df89a02"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-19144148":1,"chunk-3417e323":1,"chunk-42cb4e66":1,"chunk-57f30272":1,"chunk-68564b6c":1,"chunk-c685a436":1,"chunk-e9c094e2":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var s="css/"+({}[t]||t)+"."+{"chunk-19144148":"fe4c1cde","chunk-2d0d02a4":"31d6cfe0","chunk-2d0e2114":"31d6cfe0","chunk-2d21f840":"31d6cfe0","chunk-3417e323":"d90c9a2e","chunk-42cb4e66":"ad6f0689","chunk-57f30272":"b92938dc","chunk-68564b6c":"209889df","chunk-73d02200":"31d6cfe0","chunk-74008316":"31d6cfe0","chunk-c685a436":"b001f23e","chunk-e9c094e2":"85f7aa8e"}[t]+".css",r=c.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===s||l===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===s||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[t],p.parentNode.removeChild(p),a(i)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,a){s=r[t]=[e,a]}));e.push(s[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/K-Shop/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01c0":function(t,e,a){},"107b":function(t,e,a){t.exports=a.p+"img/kart-logo.a0226bdb.png"},"1afa":function(t,e,a){t.exports=a.p+"img/Bazzi.3cd2d7dc.png"},"1c3a":function(t,e,a){t.exports=a.p+"media/kartrider.9be8d6fc.webm"},2074:function(t,e,a){"use strict";var s=a("01c0"),n=a.n(s);n.a},"212a":function(t,e,a){"use strict";var s=a("a4c1"),n=a.n(s);n.a},"21bb":function(t,e,a){"use strict";var s=a("2dad"),n=a.n(s);n.a},"2dad":function(t,e,a){},"2e88":function(t,e,a){t.exports=a.p+"img/Ranger.623f8a49.png"},3650:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("footer",{staticClass:"footer bg-dark"},[s("div",{staticClass:"footer-contact"},[s("a",{attrs:{href:"https://www.facebook.com/kartriderTW/",target:"_blank"}},[s("i",{staticClass:"fab fa-facebook"})]),s("a",{attrs:{href:"https://kartinfo.me/",target:"_blank"}},[s("img",{attrs:{src:a("b2ba")}})]),s("a",{attrs:{href:"https://twitter.com/KartRiderDrift",target:"_blank"}},[s("i",{staticClass:"fab fa-twitter-square"})])]),s("div",{staticClass:"footer-copyright text-white"},[s("p",{staticClass:"m-0"},[t._v("此網站為個人作品，並非商業用途")]),s("p",{staticClass:"m-0"},[t._v(" 以上素材為 "),s("a",{attrs:{href:"https://tw.nexon.com/main/zh",target:"_blank"}},[s("img",{attrs:{src:a("f82f"),alt:""}})]),t._v(" 所有 ")])])])])}],r={name:"Footer"},i=r,o=(a("212a"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,"b14e5d14",null);e["a"]=c.exports},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=a("2f62"),r=a("bc3a"),i=a.n(r),o=(a("4989"),a("9062")),c=a.n(o),u=(a("e40d"),a("7bb1")),l=a("427f"),d=a.n(l),p=a("a7fe"),m=a.n(p),f=a("4eb5"),h=a.n(f),v=a("7212"),g=a.n(v),b=a("f5af"),C=a.n(b),_=(a("a7a3"),a("e829"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0",attrs:{id:"app"}},[a("router-view")],1)}),y=[],k={name:"App"},w=k,x=(a("5c0b"),a("2877")),E=Object(x["a"])(w,_,y,!1,null,null,null),O=E.exports,A=a("8c4f"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isloading},on:{"update:active":function(e){t.isloading=e}}},[[s("div",{staticClass:"bazzi-loading"})]],2),s("NavBar"),s("header",[s("Alert"),s("div",{staticClass:"swiper container-fluid p-0"},[s("div",{staticClass:"swiper-background"},[s("video",{staticClass:"swiper-background__video",attrs:{autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[s("source",{attrs:{src:a("7c24"),type:"video/mp4"}}),s("source",{attrs:{src:a("1c3a"),type:"video/webm"}})])]),s("swiper",{staticClass:"swiper-box text-center",attrs:{options:t.headerOptions}},[s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("關於跑跑")]),s("p",{staticClass:"m-1"},[t._v("是韓國NEXON公司出品的一個休閒類賽車競速遊戲")]),s("p",{staticClass:"m-1"},[t._v("亦是爆爆王的衍生遊戲")]),s("p",{staticClass:"m-1 mb-4"},[t._v("於2007年1月3日於台灣公測")]),s("router-link",{staticClass:"btn btn-lg btn-primary",attrs:{to:"about",role:"button"}},[t._v("了解更多")])],1),s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("歡慶開幕")]),s("p",{staticClass:"mt-3"},[t._v("即日起只要輸入指定優惠碼")]),s("p",{staticClass:"m-1 mb-4"},[t._v(" 即享有 "),s("span",{staticClass:"h2 text-danger"},[t._v("9")]),t._v(" 折優惠 ")]),s("div",{staticClass:"input-group mx-auto mb-3",staticStyle:{"max-width":"250px"}},[s("span",{staticClass:"form-control"},[t._v(t._s(t.message))]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.copyCouponCode}},[s("i",{staticClass:"far fa-clone"})])])]),s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("商城")]),s("p",{staticClass:"mb-1"},[t._v("擁有豐富的車種及角色")]),s("p",{staticClass:"mb-1"},[t._v("每台車子都有不同性能及特色")]),s("p",{staticClass:"mb-1"},[t._v("每位角色都有不同能力加成")]),s("p",{staticClass:"mb-2"},[t._v("快來體驗駕駛卡丁車的樂趣吧")]),s("router-link",{staticClass:"btn btn-lg btn-primary mb-1",attrs:{to:"shop",role:"button"}},[t._v("前往商城")])],1),s("div",{staticClass:"swiper-pagination"})],1)],1)],1),s("main",{staticClass:"container-fluid p-0"},[s("section",{staticClass:"products pb-5"},[s("h1",{staticClass:"m-title"},[t._v("商品種類")]),s("div",{staticClass:"container p-0"},[s("div",{staticClass:"row no-gutters"},[t._m(0),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("競速車")]),s("p",[t._v("擁有強大推進器")]),s("p",[t._v("強勁的尾加速器")]),s("p",[t._v("兇猛的起步推進器")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.goToCategory("競速車")}}},[t._v("去看看")])])])]),s("div",{staticClass:"row no-gutters d-flex flex-sm-row flex-lg-row-reverse"},[t._m(1),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("道具車")]),s("p",[t._v("各種稀奇古怪的外型")]),s("p",[t._v("豐富多樣的道具")]),s("p",[t._v("專屬於道具賽的推進器")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.goToCategory("道具車")}}},[t._v("去看看")])])])]),s("div",{staticClass:"row no-gutters"},[t._m(2),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("角色")]),s("p",[t._v("爆爆王的原生角色")]),s("p",[t._v("個性鮮明的主題角色")]),s("p",[t._v("比賽專屬獎勵加成")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.goToCategory("角色")}}},[t._v("去看看")])])])])])]),s("section",{staticClass:"recommend-products pb-5"},[s("h1",{staticClass:"m-title"},[t._v("推薦商品")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row no-gutters justify-content-center"},[s("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-primary",class:{active:"競速車"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="競速車",t.getAllProducts()}}},[t._v("競速車")]),s("button",{staticClass:"btn btn-outline-primary",class:{active:"道具車"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="道具車",t.getAllProducts()}}},[t._v("道具車")]),s("button",{staticClass:"btn btn-outline-primary",class:{active:"角色"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="角色",t.getAllProducts()}}},[t._v("角色")])]),s("swiper",{staticClass:"swiper my-3",attrs:{options:t.recommendOptions}},t._l(t.filterProducts,(function(e){return s("swiper-slide",{key:e.id},[s("div",{staticClass:"swiper-picture"},[s("img",{staticClass:"swiper-img",attrs:{src:e.imageUrl,alt:"item.title"}}),s("div",{staticClass:"swiper-info"},[s("div",{staticClass:"swiper-info--btn btn btn-outline-primary",on:{click:function(a){return a.preventDefault(),t.directProduct(e.id)}}},[t._v("前往商品")])])])])})),1)],1)])]),s("section",{staticClass:"contact text-center"},[s("h1",{staticClass:"m-title"},[t._v("訂閱我們")]),s("h3",[t._v("以獲得最新內容及優惠!")]),s("div",{staticClass:"input-group mx-auto mt-5"},[s("span",{staticClass:"fas fa-envelope btn btn-primary"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{isvalid:t.errors.has("name")},attrs:{id:"email",type:"email",name:"email",placeholder:"輸入信箱","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.errors.has("email")||""===t.email,type:"button",id:"button-addon2","data-toggle":"modal","data-target":"#exampleModal"}},[s("i",{staticClass:"fas fa-arrow-right"})])])]),t.errors.has("email")?s("p",{staticClass:"text-danger"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e(),t._m(3)])]),s("Footer")],1)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center p-3"},[s("img",{staticClass:"products-img",attrs:{src:a("2e88"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center p-3"},[s("img",{staticClass:"products-img",attrs:{src:a("96b0"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center p-3"},[s("img",{staticClass:"products-img",attrs:{src:a("1afa"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary"},[s("h5",{staticClass:"modal-title text-white",attrs:{id:"exampleModalLabel"}},[t._v("已送出信箱")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body text-center"},[s("h3",[t._v("感謝您的訂閱")]),s("h3",[t._v("若有最新消息會立即通知!")]),s("img",{attrs:{src:a("cb2c"),alt:"BazziSub"}})])])])])}],M=a("5d6b"),I=a("3650"),P=a("f688"),N={name:"Home",components:{NavBar:M["a"],Footer:I["a"],Alert:P["a"]},data:function(){return{message:"跑跑開幕慶",isloading:!1,products:[],category:"競速車",email:"",headerOptions:{speed:500,autoplay:!0,pagination:{el:".swiper-pagination",clickable:!0},loop:!0,effect:"fade",fadeEffect:{crossFade:!0}},recommendOptions:{speed:500,autoplay:!0,breakpoints:{768:{slidesPerView:2,spaceBetween:30},992:{slidesPerView:3,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}}}}},methods:{getAllProducts:function(){this.$store.dispatch("getCategoryProducts")},copyCouponCode:function(){var t=this;this.$copyText(this.message).then((function(){t.$store.dispatch("updateMessage",{message:"已複製訊息",status:"success"})}),(function(){t.$store.dispatch("updateMessage",{message:"複製訊息失敗",status:"danger"})}))},directProduct:function(t){var e="/product/".concat(t);this.$router.push(e).catch((function(t){return t})),this.getProduct(t)},goToCategory:function(t){this.$store.dispatch("goToCategory",t),this.$router.push("/shop")},onScroll:function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;console.log(t)}},computed:{filterProducts:function(){var t=this;return this.$store.state.productsModule.products.filter((function(e){return e.category===t.category}))}},created:function(){this.getAllProducts()}},$=N,G=(a("21bb"),Object(x["a"])($,S,T,!1,null,null,null)),R=G.exports;s["default"].use(A["a"]);var D=[{path:"*",redirect:"/"},{path:"/",name:"Home",component:R,meta:{title:"首頁"}},{path:"/about",name:"About",component:function(){return a.e("chunk-42cb4e66").then(a.bind(null,"f820"))},meta:{title:"關於"}},{path:"/login",name:"Login",component:function(){return a.e("chunk-68564b6c").then(a.bind(null,"a55b"))}},{path:"/shop",name:"Shop",component:function(){return a.e("chunk-3417e323").then(a.bind(null,"0fa5"))},meta:{title:"商城"}},{path:"/product/:id",name:"Product",component:function(){return a.e("chunk-57f30272").then(a.bind(null,"9f52"))},meta:{title:"商品"}},{path:"/checkout",name:"Checkout",component:function(){return a.e("chunk-2d0e2114").then(a.bind(null,"7cb4"))},children:[{path:"cart",name:"Cart",component:function(){return a.e("chunk-c685a436").then(a.bind(null,"57ef"))}},{path:"customer_checkout/:orderId",name:"Customer_checkout",component:function(){return a.e("chunk-2d0d02a4").then(a.bind(null,"678e"))}}]},{path:"/admin",name:"Admin",component:function(){return a.e("chunk-e9c094e2").then(a.bind(null,"3530"))},children:[{path:"products",name:"Products",component:function(){return a.e("chunk-74008316").then(a.bind(null,"1225"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return a.e("chunk-19144148").then(a.bind(null,"1ccc"))},meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:function(){return a.e("chunk-73d02200").then(a.bind(null,"f7ca"))},meta:{requiresAuth:!0}}]},{path:"/",name:"admin",component:function(){return a.e("chunk-e9c094e2").then(a.bind(null,"3530"))},children:[{path:"order_imitation",name:"Order_imitation",component:function(){return a.e("chunk-2d21f840").then(a.bind(null,"d9c8"))}},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:function(){return a.e("chunk-2d0d02a4").then(a.bind(null,"678e"))}}]}],F=new A["a"]({routes:D}),L=F;s["default"].prototype.$bus=new s["default"];var j=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var s=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))},B=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},V={strict:!0,state:{products:[],categories:[],pagination:[],category:""},mutations:{PRODUCTS:function(t,e){t.products=e},PAGINATION:function(t,e){t.pagination=e},CATEGORIES:function(t,e){var a=new Set;e.forEach((function(t){a.add(t.category)})),t.categories=Array.from(a).sort((function(t,e){var a="競"===t.substr(0,1)?1:0,s="道"===t.substr(0,1)?1:0;return s-a}))},CATEGORY:function(t,e){t.category=e}},actions:{getPageProducts:function(t,e){var a=e.page,s=void 0===a?1:a,n=e.category,r="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/products?page=").concat(s);t.commit("LOADING",!0),i.a.get(r).then((function(e){console.log(e),t.commit("PRODUCTS",e.data.products),t.commit("CATEGORIES",e.data.products),t.commit("CATEGORY",n),t.commit("PAGINATION",e.data.pagination),t.commit("LOADING",!1)}))},getCategoryProducts:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/products/all");t.commit("LOADING",!0),i.a.get(a).then((function(a){t.commit("PRODUCTS",a.data.products),t.commit("CATEGORIES",a.data.products),t.commit("CATEGORY",e),t.commit("LOADING",!1)}))},getProduct:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/product/").concat(e);i.a.get(a).then((function(e){t.commit("PRODUCT",e.data.product)}))},goToCategory:function(t,e){t.commit("CATEGORY",e)}},getters:{products:function(t){return t.products},pagination:function(t){return t.pagination},categories:function(t){return t.categories}}};s["default"].use(n["a"]);var q=new n["a"].Store({strict:!0,state:{isLoading:!1,messages:[],carts:[],favorites:[]},mutations:{LOADING:function(t,e){t.isLoading=e},MESSAGES:function(t,e){var a=e.message,s=e.status,n=e.timestamp;t.messages.push({message:a,status:s,timestamp:n})},REMOVEMESSAGEWITHTIMIMG:function(t,e){t.messages.forEach((function(a,s){a.timestamp===e&&t.messages.splice(s,1)}))},REMOVEMESSAGE:function(t,e){t.messages.splice(e,1)},FAVORITES:function(t){t.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},CHANGEFAVORITES:function(t,e){if(0===t.favorites.length||t.favorites.every((function(t){return t.id!==e.id})))t.favorites.push(e);else{var a=t.favorites.findIndex((function(t){return t.id===e.id}));t.favorites.splice(a,1)}localStorage.setItem("favorites",JSON.stringify(t.favorites))},REMOVEFAVORITE:function(t,e){var a=t.favorites.indexOf(e);t.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(t.favorites))},CARTS:function(t,e){t.carts=e}},actions:{isLoading:function(t){t.commit("LOADING",status)},updateMessage:function(t,e){var a=e.message,s=e.status,n=Math.floor(new Date/1e3);t.commit("MESSAGES",{message:a,status:s,timestamp:n}),t.dispatch("removeMessageWithTiming",n)},removeMessageWithTiming:function(t,e){setTimeout((function(){t.commit("REMOVEMESSAGEWITHTIMIMG",e)}),5e3)},removeMessage:function(t,e){t.commit("REMOVEMESSAGE",e)},getFavorites:function(t){t.commit("FAVORITES")},changeFavorite:function(t,e){t.commit("CHANGEFAVORITES",e),t.dispatch("getFavorites")},removeFavorItem:function(t,e){t.commit("REMOVEFAVORITE",e),t.dispatch("getFavorites")},getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart/");t.commit("LOADING",!0),i.a.get(e).then((function(e){t.commit("CARTS",e.data.data),t.commit("LOADING",!1)}))},addCart:function(t,e){var a=e.id,s=e.qty,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart/");t.commit("LOADING",!0);var r={product_id:a,qty:s};i.a.post(n,{data:r}).then((function(e){e.data.success?(t.dispatch("updateMessage",{message:"已增加至購物車",status:"success"}),t.dispatch("getCart")):t.dispatch("updateMessage",{message:"增加至購物車失敗",status:"danger"}),t.commit("LOADING",!1)}))},removeCartItem:function(t,e){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart/").concat(e);t.commit("LOADING",!0),i.a.delete(a).then((function(e){e.data.success?(t.dispatch("updateMessage",{message:"已刪除項目",status:"success"}),t.dispatch("getCart")):(t.dispatch("updateMessage",{message:"未能成功刪除",status:"danger"}),t.dispatch("getCart")),t.commit("LOADING",!1)}))}},modules:{productsModule:V}});s["default"].use(n["a"]),s["default"].use(m.a,i.a),s["default"].use(u["b"]),s["default"].use(g.a),s["default"].use(h.a),h.a.config.autoSetContainer=!0,u["a"].localize("zh_TW",d.a),s["default"].config.productionTip=!1,s["default"].component("Loading",c.a),s["default"].filter("currency",j),s["default"].filter("date",B),i.a.defaults.withCredentials=!0,new s["default"]({created:function(){C.a.init()},router:L,store:q,render:function(t){return t(O)}}).$mount("#app"),L.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");i.a.post(s).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5d6b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-primary"},[s("nav",{staticClass:"navbar navbar-expand-lg container"},[s("div",{staticClass:"navbar-header d-flex"},[s("router-link",{staticClass:"pt-1",attrs:{to:"/"}},[s("img",{staticClass:"navbar-brand-img",attrs:{src:a("107b"),alt:"kart-rider-logo"}})]),s("div",{staticClass:"navbar-icons"},[s("ul",{staticClass:"navbar-nav d-flex flex-row"},[t._m(0),s("li",{staticClass:"nav-item mr-3"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[s("i",{staticClass:"fas fa-user"})])],1),s("li",{staticClass:"nav-item nav-link mr-3"},[s("i",{staticClass:"fas fa-heart nav-icon",attrs:{id:"dropdownFavorButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),t.favorites?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.favorites.length))]):t._e(),t.favorites.length>0?s("div",{staticClass:"dropdown-menu dropdown-menu-right mr-1",staticStyle:{width:"300px"},attrs:{"aria-labelledby":"dropdownFavorButton"}},[s("h5",{staticClass:"text-center"},[t._v("我的最愛")]),s("table",{staticClass:"table"},[s("tbody",t._l(t.favorites,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-center w-75 font-weight-bold",on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[t._v(t._s(e.title))]),s("td",{staticClass:"pr-0"},[s("button",{staticClass:"btn btn-sm btn-warning",attrs:{type:"button"},on:{click:function(a){return t.addCart(e.id)}}},[s("i",{staticClass:"fas fa-shopping-cart"})])]),s("td",[s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeFavorItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])]):t._e()]),s("li",{staticClass:"nav-item nav-link mr-2"},[s("i",{staticClass:"fas fa-cart-arrow-down nav-icon",attrs:{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:t.getCart}}),t.carts.carts?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.carts.carts.length))]):t._e(),s("div",{staticClass:"dropdown-menu dropdown-menu-right mr-1",staticStyle:{width:"300px"},attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("h5",{staticClass:"text-center"},[t._v("購物車內容")]),t.carts.carts&&t.carts.carts.length>0?s("table",{staticClass:"table"},[s("tbody",t._l(t.carts.carts,(function(e){return s("tr",{key:e.id},[s("td",[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeCartItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.qty))]),s("td",[t._v(t._s(t._f("currency")(e.total)))])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t.carts.total?s("td",[t._v(t._s(t.carts.total))]):t._e()]),t.carts.final_total!==t.carts.total?s("tr",{staticClass:"text-success"},[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("折扣價")]),s("td",[t._v(t._s(t.carts.final_total))])]):t._e(),s("tr",[s("td",{attrs:{colspan:"4"}},[s("router-link",{staticClass:"btn btn-md btn-primary w-100",attrs:{to:"/checkout/cart"}},[t._v("前往購物車")])],1)])])]):s("p",{staticClass:"text-center"},[t._v("無商品")])])])])])],1),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mx-3"},[s("li",{staticClass:"nav-item mr-3"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/shop"}},[t._v("商城")])],1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item mr-3"},[a("a",{staticClass:"navbar-toggler nav-link",attrs:{"data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("i",{staticClass:"fas fa-bars"})])])}],r={name:"Navbar",data:function(){return{}},methods:{getCart:function(){this.$store.dispatch("getCart")},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addCart",{id:t,qty:e})},removeCartItem:function(t){this.$store.dispatch("removeCartItem",t)},getFavorites:function(){this.$store.dispatch("getFavorites")},removeFavorItem:function(t){this.$store.dispatch("removeFavorItem",t)}},computed:{favorites:function(){return this.$store.state.favorites},carts:function(){return this.$store.state.carts}},created:function(){this.getCart(),this.getFavorites()}},i=r,o=(a("de4f"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,"4e97d85c",null);e["a"]=c.exports},"7c24":function(t,e,a){t.exports=a.p+"media/kartrider.3ef3faef.mp4"},"96b0":function(t,e,a){t.exports=a.p+"img/Broom.b79d094f.png"},"9c0c":function(t,e,a){},a4c1:function(t,e,a){},b2ba:function(t,e,a){t.exports=a.p+"img/kartinfo.94dadc9c.png"},cb2c:function(t,e,a){t.exports=a.p+"img/bazzi.4594f7f6.gif"},ddc7:function(t,e,a){},de4f:function(t,e,a){"use strict";var s=a("ddc7"),n=a.n(s);n.a},f688:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status,attrs:{role:"alert"}},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},n=[],r={name:"AlertMessage",methods:{updateMessage:function(t,e){var a=Math.floor(new Date/100);this.$store.dispatch("updateMessage",{message:t,status:e,timestamp:a})},removeMessage:function(t){this.$store.dispatch("removeMessage",t)},removeMessageWithTiming:function(t){this.$store.dispatch("removeMessageWithTiming",t)}},computed:{messages:function(){return this.$store.state.messages}}},i=r,o=(a("2074"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,null,null);e["a"]=c.exports},f82f:function(t,e,a){t.exports=a.p+"img/nexon.b01290f6.png"}});
//# sourceMappingURL=app.a0c3713d.js.map