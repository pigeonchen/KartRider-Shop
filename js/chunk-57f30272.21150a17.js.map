{"version":3,"sources":["webpack:///./src/views/Details.vue?5bbd","webpack:///./src/views/Details.vue?4973","webpack:///src/views/Details.vue","webpack:///./src/views/Details.vue?9e89","webpack:///./src/views/Details.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isloading","on","$event","staticClass","_v","_s","product","title","imageUrl","category","price","origin_price","_e","domProps","description","content","class","qty","preventDefault","decreaseqty","directives","name","rawName","value","expression","staticStyle","target","composing","increaseqty","addCart","id","ref","detailOptions","_l","item","key","directProduct","staticRenderFns","components","NavBar","Footer","Alert","data","products","productId","loadingItem","speed","autoplay","breakpoints","768","slidesPerView","spaceBetween","992","1280","pagination","el","clickable","methods","getAllProducts","vm","$http","get","url","then","res","getProduct","$set","turnDetails","$router","push","path","catch","product_id","post","success","setTimeout","replace","getCart","cartContents","computed","filterProducts","filter","swiper","$refs","mySwiper","$swiper","created","component"],"mappings":"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","file":"js/chunk-57f30272.21150a17.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=dba69182&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=dba69182&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NavBar'),_c('Alert'),_c('main',[_c('loading',{attrs:{\"active\":_vm.isloading},on:{\"update:active\":function($event){_vm.isloading=$event}}},[[_c('div',{staticClass:\"bazzi-loading\"})]],2),_c('div',{staticClass:\"container p-3\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_c('router-link',{attrs:{\"to\":\"/shop\"}},[_vm._v(\"商城\")])],1),_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('div',{staticClass:\"row no-gutters py-2\"},[_c('div',{staticClass:\"col-lg-5 col-sm-12 d-flex justify-content-center align-items-center bg-dark mx-md-0 mr-lg-5\"},[_c('img',{attrs:{\"src\":_vm.product.imageUrl,\"alt\":_vm.product.title}})]),_c('div',{staticClass:\"info col-lg-6 col-sm-12\"},[_c('div',{staticClass:\"info-title d-flex justify-content-between\"},[_c('h1',[_vm._v(_vm._s(_vm.product.title))]),_c('span',{staticClass:\"ml-1 badge badge-secondary\"},[_vm._v(_vm._s(_vm.product.category))])]),_c('div',{staticClass:\"info-price\"},[_c('div',{staticClass:\"mt-3\"},[(_vm.product.price === _vm.product.origin_price)?_c('p',{staticClass:\"text-success\"},[_vm._v(\"售價 \"+_vm._s(_vm.product.origin_price)+\" 元\")]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('del',{staticClass:\"mr-1 text-success\"},[_vm._v(\"原價\"+_vm._s(_vm.product.origin_price)+\"元\")]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('p',{staticClass:\"m-0 text-danger\"},[_vm._v(\"售價\"+_vm._s(_vm.product.price)+\" 元\")]):_vm._e()])]),_c('div',{staticClass:\"info-details my-3\"},[_c('h5',[_vm._v(\"商品描述\")]),_c('div',{staticClass:\"mb-4\",domProps:{\"innerHTML\":_vm._s(_vm.description)}}),_c('h5',[_vm._v(\"商品特色\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('h5',{staticClass:\"align-middle\"},[_vm._v(\"數量\")]),_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-primary ml-2\",class:{'disabled': _vm.qty <= 1},attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();_vm.decreaseqty ()}}},[_vm._v(\"-\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.qty),expression:\"qty\"}],staticClass:\"text-center mx-1\",staticStyle:{\"width\":\"60px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.qty)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.qty=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();_vm.increaseqty ()}}},[_vm._v(\"+\")])])]),_c('button',{staticClass:\"btn btn-primary w-100 mt-5 mb-3\",on:{\"click\":function($event){$event.preventDefault();return _vm.addCart(_vm.product.id,_vm.qty)}}},[_vm._v(\"加入購物車\")])])]),_c('div',{staticClass:\"swiper row mt-5\"},[_c('h3',{staticClass:\"text-center mb-5 col-12\"},[_vm._v(\"推薦商品\")]),_c('swiper',{ref:\"mySwiper\",staticClass:\"p-0 text-center mb-5 col-12\",attrs:{\"options\":_vm.detailOptions}},_vm._l((_vm.filterProducts),function(item){return _c('swiper-slide',{key:item.id},[_c('div',{staticClass:\"swiper-picture\"},[_c('img',{staticClass:\"swiper-img\",attrs:{\"src\":item.imageUrl,\"alt\":\"item.title\"}}),_c('div',{staticClass:\"swiper-info\"},[_c('div',{staticClass:\"swiper-info--btn btn btn-outline-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.directProduct(item.id)}}},[_vm._v(\"前往商品\")])])])])}),1)],1)])],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n  <div>\r\n    <NavBar></NavBar>\r\n    <Alert></Alert>\r\n    <main>\r\n      <loading :active.sync=\"isloading\">\r\n        <template name=\"default\">\r\n          <div class=\"bazzi-loading\"></div>\r\n        </template>\r\n      </loading>\r\n\r\n      <div class=\"container p-3\">\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\" aria-current=\"page\">\r\n              <router-link to=\"/\">首頁</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\" aria-current=\"page\">\r\n              <router-link to=\"/shop\">商城</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\" aria-current=\"page\">{{product.title}}</li>\r\n          </ol>\r\n        </nav>\r\n        <div class=\"row no-gutters py-2\">\r\n          <div\r\n            class=\"col-lg-5 col-sm-12 d-flex justify-content-center align-items-center bg-dark mx-md-0 mr-lg-5\"\r\n          >\r\n            <img :src=\"product.imageUrl\" :alt=\"product.title\" />\r\n          </div>\r\n          <div class=\"info col-lg-6 col-sm-12\">\r\n            <div class=\"info-title d-flex justify-content-between\">\r\n              <h1>{{ product.title }}</h1>\r\n              <span class=\"ml-1 badge badge-secondary\">{{product.category}}</span>\r\n            </div>\r\n            <div class=\"info-price\">\r\n              <div class=\"mt-3\">\r\n                <p\r\n                  class=\"text-success\"\r\n                  v-if=\"product.price === product.origin_price\"\r\n                >售價 {{product.origin_price}} 元</p>\r\n                <del\r\n                  class=\"mr-1 text-success\"\r\n                  v-if=\"product.price !== product.origin_price\"\r\n                >原價{{product.origin_price}}元</del>\r\n                <p\r\n                  class=\"m-0 text-danger\"\r\n                  v-if=\"product.price !== product.origin_price\"\r\n                >售價{{product.price}} 元</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"info-details my-3\">\r\n              <h5>商品描述</h5>\r\n              <div class=\"mb-4\" v-html=\"description\"></div>\r\n              <h5>商品特色</h5>\r\n              <div v-html=\"content\"></div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-between\">\r\n              <h5 class=\"align-middle\">數量</h5>\r\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary ml-2\"\r\n                  :class=\"{'disabled': qty <= 1}\"\r\n                  @click.prevent=\" decreaseqty () \"\r\n                >-</button>\r\n                <input type=\"text\" class=\"text-center mx-1\" v-model=\"qty\" style=\"width: 60px;\" />\r\n                <button type=\"button\" class=\"btn btn-primary\" @click.prevent=\" increaseqty () \">+</button>\r\n              </div>\r\n            </div>\r\n            <button\r\n              class=\"btn btn-primary w-100 mt-5 mb-3\"\r\n              @click.prevent=\"addCart(product.id,qty)\"\r\n            >加入購物車</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"swiper row mt-5\">\r\n          <h3 class=\"text-center mb-5 col-12\">推薦商品</h3>\r\n          <swiper ref=\"mySwiper\" :options=\"detailOptions\" class=\"p-0 text-center mb-5 col-12\">\r\n            <swiper-slide v-for=\"item in filterProducts\" :key=\"item.id\">\r\n              <div class=\"swiper-picture\">\r\n                <img class=\"swiper-img\" :src=\"item.imageUrl\" alt=\"item.title\" />\r\n                <div class=\"swiper-info\">\r\n                  <div\r\n                    class=\"swiper-info--btn btn btn-outline-primary\"\r\n                    @click.prevent=\"directProduct(item.id)\"\r\n                  >前往商品</div>\r\n                </div>\r\n              </div>\r\n            </swiper-slide>\r\n          </swiper>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport $ from 'jquery'\r\nimport NavBar from '@/components/customer/NavBar'\r\nimport Footer from '@/components/customer/Footer'\r\nimport Alert from '@/components/common/AlertMessage'\r\n\r\nexport default {\r\n  name: 'Shop',\r\n  components: {\r\n    NavBar,\r\n    Footer,\r\n    Alert\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      productId: '',\r\n      product: {\r\n      },\r\n      qty: 1,\r\n      isloading: false,\r\n      loadingItem: '',\r\n      description: '',\r\n      content: '',\r\n      // swiper\r\n      detailOptions: {\r\n        speed: 500,\r\n        autoplay: true,\r\n        breakpoints: {\r\n          768: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 30\r\n          },\r\n          992: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 30\r\n          },\r\n          1280: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 30\r\n          }\r\n        },\r\n        pagination: {\r\n          el: '.swiper-pagination',\r\n          clickable: true\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getAllProducts () {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.products = res.data.products\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${this.$route.params.id}`\r\n      vm.loadingItem = id\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.product = res.data.product\r\n        // 回傳內容沒有數量 num，所以要加入預設值\r\n        vm.$set(vm.product, 'num', 1)\r\n        vm.turnDetails()\r\n        vm.loadingItem = ''\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    directProduct (id) {\r\n      // 因為同一個路徑會出錯\r\n      const path = `/product/${id}`\r\n      this.$router.push(path).catch(err => err)\r\n      this.getProduct(id)\r\n    },\r\n    // 新增至購物車\r\n    addCart (id, qty = 1) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\r\n      vm.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: vm.qty\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        vm.loadingItem = ''\r\n        this.getCart()\r\n        $('#productModal').modal('hide')\r\n        if (res.data.success) {\r\n          setTimeout(() => {\r\n            this.$bus.$emit('message:push', '已增加至購物車', 'success')\r\n            this.$bus.$emit('updateCart')\r\n          }, 500)\r\n        } else {\r\n          setTimeout(() => {\r\n            this.$bus.$emit('message:push', '增加至購物車失敗', 'danger')\r\n          }, 500)\r\n        }\r\n      })\r\n    },\r\n    // 將後端產品描述換行\r\n    turnDetails () {\r\n      const vm = this\r\n      const { description, content } = vm.product\r\n      vm.description = description.replace(/\\n/g, '<br/>')\r\n      vm.content = content.replace(/\\n/g, '<br/>')\r\n    },\r\n    getCart () {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.cartContents = res.data.data\r\n        vm.loadingItem = ''\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    increaseqty () {\r\n      const vm = this\r\n      if (vm.qty >= 0) {\r\n        vm.qty += 1\r\n      }\r\n    },\r\n    decreaseqty () {\r\n      const vm = this\r\n      if (vm.qty > 1) {\r\n        vm.qty -= 1\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filterProducts () {\r\n      const vm = this\r\n      return vm.products.filter((item) => item.category === vm.product.category && item.id !== vm.product.id)\r\n    },\r\n    swiper () {\r\n      return this.$refs.mySwiper.$swiper\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n    this.getProduct()\r\n    this.getAllProducts()\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .info {\r\n    .badge {\r\n      position: absolute;\r\n      top: 5%;\r\n      right: 5%;\r\n      font-size: 12px;\r\n      line-height: 20px;\r\n    }\r\n    &-title h1 {\r\n      border-bottom: 3px solid #4187eb;\r\n    }\r\n    &-details {\r\n      h5 {\r\n        border-bottom: 1px solid rgb(68, 64, 64);\r\n      }\r\n      div {\r\n        font-size: 0.75rem;\r\n        color: rgb(68, 64, 64);\r\n      }\r\n    }\r\n  }\r\n  //swiper\r\n  .swiper {\r\n    margin: 0 auto;\r\n    &-picture {\r\n      position: relative;\r\n      background-color: #343a40;\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n    &-img {\r\n      width: 90%;\r\n      height: 90%;\r\n      position: relative;\r\n      transition: all 0.5s;\r\n    }\r\n    &-info {\r\n      width: 100%;\r\n      height: 0;\r\n      background: rgba(245, 245, 245, 0.45);\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      transition: all 0.5s;\r\n      &--btn {\r\n        position: absolute;\r\n        opacity: 0;\r\n        width: 300px;\r\n        max-width: 80%;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n    &-picture:hover {\r\n      .swiper-info {\r\n        height: 100%;\r\n      }\r\n      .swiper-info--btn {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n  .my-button-disabled {\r\n    opacity: 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=dba69182&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=dba69182&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dba69182\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}